<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulado de Direito Penal e Processual Penal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos gerais para garantir que a página ocupe a largura total e se adapte */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center; /* Centraliza o conteúdo horizontalmente */
            align-items: flex-start; /* Alinha o conteúdo ao topo verticalmente */
            min-height: 100vh; /* Garante que o corpo ocupe a altura total da viewport */
            padding: 20px; /* Padding nas bordas para respiro em telas pequenas */
            box-sizing: border-box; /* Inclui padding e borda no cálculo total da largura/altura */
        }
        /* Container principal do simulado, com largura fluida e máxima definida */
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%; /* Ocupa 100% da largura disponível */
            max-width: 800px; /* Mas não ultrapassa 800px em telas grandes */
            margin-top: 20px;
        }
        /* Estilo do título do simulado */
        .quiz-title {
            font-size: 2.2rem;
            font-weight: 700;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.05);
        }
        /* Estilo para o nome do professor */
        .professor-name {
            font-size: 0.9rem; /* Letra menor para o nome do professor */
            color: #555;
            text-align: center;
            margin-bottom: 30px;
        }
        /* Cabeçalho da questão, com a indicação do número da questão */
        .question-header {
            display: flex;
            justify-content: center; /* Centralizar a indicação da questão */
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e0e0e0;
        }
        /* Texto da questão */
        .question-text {
            font-size: 1.15rem; /* Tamanho de fonte responsivo */
            margin-bottom: 25px;
            line-height: 1.6;
            color: #333;
        }
        /* Estilo das opções de resposta (labels para os inputs de rádio) */
        .options-list label {
            display: block;
            background-color: #f9f9f9;
            padding: 15px; /* Padding generoso para facilitar o toque em telas sensíveis */
            margin-bottom: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #e0e0e0;
            font-size: 1rem; /* Tamanho de fonte responsivo */
            color: #555;
        }
        .options-list label:hover {
            background-color: #eef2ff;
            border-color: #a7b7ed;
        }
        .options-list input[type="radio"]:checked + span {
            font-weight: bold;
            color: #4f46e5;
        }
        .options-list input[type="radio"] {
            margin-right: 12px;
        }
        /* Botões de navegação */
        .navigation-buttons {
            display: flex;
            justify-content: space-between; /* Espaçamento entre os botões */
            margin-top: 30px;
            /* Em telas menores, os botões se adaptarão à largura disponível */
            flex-wrap: wrap; /* Permite que os botões quebrem a linha se não houver espaço */
            gap: 15px; /* Espaçamento entre os botões quando eles quebram a linha */
        }
        .nav-button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            flex-grow: 1; /* Permite que os botões cresçam para ocupar o espaço disponível */
            min-width: 140px; /* Garante um tamanho mínimo para o botão */
        }
        .nav-button.primary {
            background-color: #4f46e5;
            color: white;
        }
        .nav-button.primary:hover {
            background-color: #4338ca;
            transform: translateY(-1px);
        }
        .nav-button.secondary {
            background-color: #e0e7ff;
            color: #4f46e5;
        }
        .nav-button.secondary:hover {
            background-color: #c7d2fe;
            transform: translateY(-1px);
        }
        /* Feedback de resposta (correto/incorreto) */
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        .feedback.correct {
            background-color: #d1fae5;
            color: #065f46;
        }
        .feedback.incorrect {
            background-color: #fee2e2;
            color: #991b1b;
        }
        /* Tela de resultado final */
        .result-screen {
            text-align: center;
            padding: 40px 20px;
        }
        .result-screen h2 {
            font-size: 2rem;
            color: #4f46e5;
            margin-bottom: 15px;
        }
        .result-screen p {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 25px;
        }
        .result-screen button {
            background-color: #22c55e;
            color: white;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }
        .result-screen button:hover {
            background-color: #16a34a;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Cabeçalho do Simulador -->
        <h1 class="quiz-title">Simulado de Direito Penal e Processual Penal</h1>
        <p class="professor-name">Professor Marcelo Trindade</p>

        <div id="quiz-container">
            <div class="question-header">
                <span id="question-indicator" class="text-lg font-semibold text-gray-700">Questão 1 de 70</span>
            </div>
            <div class="question-text" id="question-text"></div>
            <form id="options-form" class="options-list">
                <!-- Opções serão carregadas aqui pelo JS -->
            </form>
            <div id="feedback" class="feedback hidden"></div>
            <div class="navigation-buttons">
                <button id="prev-button" class="nav-button secondary" disabled>Anterior</button>
                <button id="next-button" class="nav-button primary">Próxima</button>
            </div>
        </div>
        <div id="result-screen" class="result-screen hidden">
            <h2>Simulado Concluído!</h2>
            <p id="final-score" class="text-xl"></p>
            <button id="restart-button">Refazer Simulado</button>
        </div>
    </div>

    <script type="module">
        // Variáveis globais para configuração e estado
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};

        // Importações do Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, collection, query, orderBy, limit, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Inicialização do Firebase
        let app;
        let db;
        let auth;
        let userId = 'anon'; // Default para usuário anônimo

        // Questões do simulado (aproximadamente 70, geradas a partir do PDF)
        const questions = [
            {
                question: "Qual a natureza jurídica do Inquérito Policial (IP), conforme o conceito inicial do PDF?",
                options: [
                    "É um processo judicial.",
                    "É um processo administrativo.",
                    "É um procedimento administrativo inquisitório e preparatório.",
                    "É um procedimento judicial de caráter contraditório."
                ],
                correctAnswer: "É um procedimento administrativo inquisitório e preparatório."
            },
            {
                question: "A finalidade do Inquérito Policial é, primordialmente, a colheita de:",
                options: [
                    "Provas irrepetíveis para a condenação.",
                    "Elementos de informação quanto à autoria e materialidade do fato delituoso.",
                    "Sentenças condenatórias antecipadas.",
                    "Medidas cautelares punitivas."
                ],
                correctAnswer: "Elementos de informação quanto à autoria e materialidade do fato delituoso."
            },
            {
                question: "No contexto do Inquérito Policial, as provas ilícitas:",
                options: [
                    "Não contaminam o processo ao que deram origem.",
                    "Contaminam o processo ao que deram origem.",
                    "São válidas apenas se produzidas antecipadamente.",
                    "Podem ser utilizadas para justificar a sanção."
                ],
                correctAnswer: "Contaminam o processo ao que deram origem."
            },
            {
                question: "As medidas cautelares reais (Art. 125 a 144 do CPP) têm por finalidade principal:",
                options: [
                    "Recair sobre a liberdade do indivíduo.",
                    "Manter a integridade do material probatório.",
                    "Garantir a eficácia dos efeitos civis da condenação, como a reparação do dano.",
                    "Retirar o réu da audiência."
                ],
                correctAnswer: "Garantir a eficácia dos efeitos civis da condenação, como a reparação do dano."
            },
            {
                question: "A Polícia Administrativa exerce uma função de caráter:",
                options: [
                    "Exclusivamente repressivo, auxiliando a Justiça.",
                    "Preventivo, relacionada à segurança, visando a impedir a prática de atos lesivos à sociedade.",
                    "Judiciário, atuando após a prática do fato delituoso.",
                    "Disciplinar, aplicada apenas internamente."
                ],
                correctAnswer: "Preventivo, relacionada à segurança, visando a impedir a prática de atos lesivos à sociedade."
            },
            {
                question: "De acordo com o Art. 5º do CPP, o inquérito policial nos crimes de ação pública pode ser iniciado de ofício e também mediante:",
                options: [
                    "Apenas requisição do Ministro da Justiça.",
                    "Apenas requerimento do Delegado de Polícia.",
                    "Requisição da autoridade judiciária ou do Ministério Público, ou a requerimento do ofendido.",
                    "Decisão unânime do Tribunal."
                ],
                correctAnswer: "Requisição da autoridade judiciária ou do Ministério Público, ou a requerimento do ofendido."
            },
            {
                question: "A Notitia criminis coercitiva ocorre exclusivamente em qual situação?",
                options: [
                    "Quando a autoridade toma conhecimento por meio de telefonemas anônimos.",
                    "Quando a autoridade toma conhecimento através de requisição do juiz.",
                    "Na prisão em flagrante, pois o autor do delito é conduzido coercitivamente.",
                    "Quando o ofendido procura a delegacia para postular a instauração do IP."
                ],
                correctAnswer: "Na prisão em flagrante, pois o autor do delito é conduzido coercivamente."
            },
            {
                question: "A popularmente conhecida 'denúncia anônima' é classificada como:",
                options: [
                    "Delatio criminis simples.",
                    "Delatio criminis postulatória.",
                    "Delatio criminis inqualificada.",
                    "Notitia criminis imediata."
                ],
                correctAnswer: "Delatio criminis inqualificada."
            },
            {
                question: "De acordo com a Sexta Turma do STJ, a notícia anônima de crime, por si só:",
                options: [
                    "É apta para instaurar inquérito policial.",
                    "Não é apta para instaurar inquérito policial, a menos que haja prévia verificação de sua credibilidade.",
                    "Pode servir de base válida para a persecução criminal sem apurações preliminares.",
                    "Sempre configura fundadas razões para ingresso domiciliar."
                ],
                correctAnswer: "Não é apta para instaurar inquérito policial, a menos que haja prévia verificação de sua credibilidade."
            },
            {
                question: "Uma das características do Inquérito Policial é ser 'Inquisitivo'. Isso significa que:",
                options: [
                    "O contraditório e a ampla defesa são plenamente aplicados desde o início.",
                    "Não se aplica o contraditório na fase investigativa, sendo aplicado apenas após a formalização da acusação.",
                    "A autoridade policial pode agir de forma ilimitada, sem qualquer controle.",
                    "O investigado tem direito a acesso irrestrito a todas as provas, a qualquer tempo."
                ],
                correctAnswer: "Não se aplica o contraditório na fase investigativa, sendo aplicado apenas após a formalização da acusação."
            },
            {
                question: "O sigilo do inquérito policial (Art. 20 do CPP) não é absoluto em relação ao defensor do investigado, conforme a Súmula Vinculante nº 14 do STF. No entanto, em quais casos o sigilo é considerado absoluto?",
                options: [
                    "Apenas em investigações de crimes leves.",
                    "Na infiltração de agentes de polícia ou inteligência e na interceptação telefônica.",
                    "Quando o inquérito está concluso à autoridade.",
                    "Em qualquer caso em que o advogado não tenha procuração."
                ],
                correctAnswer: "Na infiltração de agentes de polícia ou inteligência e na interceptação telefônica."
            },
            {
                question: "Quem é a autoridade responsável por presidir o Inquérito Policial, conforme a Constituição Federal e o CPP?",
                options: [
                    "O Ministério Público.",
                    "A autoridade judiciária.",
                    "O Delegado de Polícia de carreira.",
                    "A Polícia Militar."
                ],
                correctAnswer: "O Delegado de Polícia de carreira."
            },
            {
                question: "A Lei nº 12.830/2013 estabelece que as funções de polícia judiciária e a apuração de infrações penais exercidas pelo delegado de polícia são de natureza jurídica, essenciais e exclusivas de:",
                options: [
                    "Município.",
                    "Estado.",
                    "Poder Judiciário.",
                    "Ministério Público."
                ],
                correctAnswer: "Estado."
            },
            {
                question: "Qual característica do Inquérito Policial impede que a autoridade policial, por sua própria iniciativa, promova o seu arquivamento?",
                options: [
                    "Oficialidade.",
                    "Oficiosidade.",
                    "Discricionariedade.",
                    "Indisponibilidade."
                ],
                correctAnswer: "Indisponibilidade."
            },
            {
                question: "O princípio da Oficialidade do Inquérito Policial estabelece que:",
                options: [
                    "A investigação pode ser delegada a particulares.",
                    "A investigação deve ser realizada por autoridades e agentes integrantes dos quadros públicos.",
                    "O inquérito deve ser instaurado apenas mediante provocação da vítima.",
                    "A autoridade policial tem discricionariedade ilimitada."
                ],
                correctAnswer: "A investigação deve ser realizada por autoridades e agentes integrantes dos quadros públicos."
            },
            {
                question: "Uma das características do Inquérito Policial é ser 'Dispensável'. Isso significa que:",
                options: [
                    "Sua instauração é sempre obrigatória antes da ação penal.",
                    "A ação penal não poderá ser proposta sem ele.",
                    "A ação penal poderá ser proposta se já existirem indícios de autoria e materialidade delitiva, mesmo sem a instauração do IP.",
                    "O Ministério Público é obrigado a requisitar sua instauração em todos os casos."
                ],
                correctAnswer: "A ação penal poderá ser proposta se já existirem indícios de autoria e materialidade delitiva, mesmo sem a instauração do IP."
            },
            {
                question: "A 'Justa Causa' para o exercício da ação penal é definida como:",
                options: [
                    "A prova cabal da culpabilidade do réu.",
                    "O suporte probatório mínimo (indícios suficientes de autoria e materialidade) que deve lastrear a acusação penal.",
                    "A certeza da condenação do acusado.",
                    "A ausência total de elementos de informação."
                ],
                correctAnswer: "O suporte probatório mínimo (indícios suficientes de autoria e materialidade) que deve lastrear a acusação penal."
            },
            {
                question: "As Comissões Parlamentares de Inquérito (CPIs) possuem poderes de investigação próprios das autoridades judiciais. Qual das seguintes ações uma CPI **NÃO** pode determinar, conforme o princípio da reserva de jurisdição?",
                options: [
                    "Intimar particulares e autoridades públicas para depor.",
                    "Decretar prisão temporária ou preventiva.",
                    "Determinar a quebra de sigilo fiscal.",
                    "Requisitar informações."
                ],
                correctAnswer: "Decretar prisão temporária ou preventiva."
            },
            {
                question: "Qual o prazo para a conclusão do Inquérito Policial se o indiciado estiver preso em flagrante ou preventivamente, de acordo com a regra geral do Art. 10 do CPP?",
                options: [
                    "30 dias.",
                    "15 dias.",
                    "10 dias.",
                    "60 dias."
                ],
                correctAnswer: "10 dias."
            },
            {
                question: "Conforme o Art. 3º-B do CPP, o Juiz das Garantias poderá prorrogar o prazo do inquérito para o investigado preso, uma única vez, por até 15 (quinze) dias. O que o STF entende sobre a prisão se a investigação ainda não for concluída após esse prazo?",
                options: [
                    "A prisão será imediatamente relaxada, sem exceções.",
                    "Podem existir novas prorrogações e o relaxamento automático da prisão foi afastado.",
                    "A prisão será convertida em domiciliar automaticamente.",
                    "O inquérito será arquivado compulsoriamente."
                ],
                correctAnswer: "Podem existir novas prorrogações e o relaxamento automático da prisão foi afastado."
            },
            {
                question: "Qual o prazo para a conclusão do inquérito policial na Lei de Drogas (Lei n. 11.343/06), se o indiciado estiver solto?",
                options: [
                    "10 dias.",
                    "30 dias.",
                    "60 dias.",
                    "90 dias."
                ],
                correctAnswer: "90 dias."
            },
            {
                question: "No processo dos crimes contra a economia popular, qual o prazo para os atos policiais (inquérito ou processo iniciado por portaria) terminarem?",
                options: [
                    "15 dias.",
                    "20 dias.",
                    "10 dias.",
                    "30 dias."
                ],
                correctAnswer: "10 dias."
            },
            {
                question: "Após o delegado de polícia remeter o relatório final do inquérito ao foro competente, qual das seguintes ações o Ministério Público **NÃO** pode realizar?",
                options: [
                    "Oferecer a denúncia.",
                    "Manifestar-se pelo arquivamento.",
                    "Solicitar novas diligências.",
                    "Mandar arquivar os autos do inquérito por sua própria iniciativa."
                ],
                correctAnswer: "Mandar arquivar os autos do inquérito por sua própria iniciativa."
            },
            {
                question: "A Súmula 524 do STF estabelece que, arquivado o inquérito policial por despacho do juiz a requerimento do promotor, a ação penal não pode ser iniciada sem:",
                options: [
                    "Novas diligências.",
                    "Novas provas.",
                    "A concordância da autoridade policial.",
                    "O pagamento de custas judiciais."
                ],
                correctAnswer: "Novas provas."
            },
            {
                question: "Quando o inquérito policial é arquivado por decisão judicial declarando a manifesta atipicidade do fato, essa decisão faz:",
                options: [
                    "Coisa julgada formal, sendo desarquivável com novas provas.",
                    "Coisa julgada material, não podendo ser desarquivado.",
                    "Coisa julgada relativa, dependendo da vontade do MP.",
                    "Apenas preclusão, permitindo a reabertura a qualquer tempo."
                ],
                correctAnswer: "Coisa julgada material, não podendo ser desarquivado."
            },
            {
                question: "O Processo Penal é definido como o conjunto de princípios e normas que disciplinam a composição das lides penais, por meio da aplicação do:",
                options: [
                    "Direito Civil objetivo.",
                    "Direito Penal objetivo.",
                    "Direito Administrativo.",
                    "Direito Constitucional."
                ],
                correctAnswer: "Direito Penal objetivo."
            },
            {
                question: "Conforme o Art. 61 da Lei 9.099/95, consideram-se infrações penais de menor potencial ofensivo as contravenções penais e os crimes a que a lei comine pena máxima não superior a:",
                options: [
                    "1 ano, cumulada ou não com multa.",
                    "2 anos, cumulada ou não com multa.",
                    "3 anos, cumulada ou não com multa.",
                    "4 anos, cumulada ou não com multa."
                ],
                correctAnswer: "2 anos, cumulada ou não com multa."
            },
            {
                question: "A Súmula 38 do STJ estabelece que compete à Justiça Estadual Comum o processo por contravenção penal, mesmo que praticada em detrimento de bens, serviços ou interesse da União. Essa afirmação está:",
                options: [
                    "Incorreta, pois contravenções contra a União são da Justiça Federal.",
                    "Correta, a Justiça Federal não julga contravenção penal.",
                    "Correta, mas apenas se a contravenção for leve.",
                    "Incorreta, pois a Súmula foi revogada."
                ],
                correctAnswer: "Correta, a Justiça Federal não julga contravenção penal."
            },
            {
                question: "Lide, segundo Carnelutti, é um conflito de interesses qualificado por:",
                options: [
                    "Uma pretensão não resistida.",
                    "Uma pretensão resistida.",
                    "Um mero interesse não satisfeito.",
                    "Uma ausência de conflito."
                ],
                correctAnswer: "Uma pretensão resistida."
            },
            {
                question: "A Ação Penal é um direito público autônomo e abstrato. Isso significa que ela:",
                options: [
                    "Depende da relação jurídica de direito material.",
                    "Independe da relação jurídica de direito material, existindo mesmo que o réu seja absolvido.",
                    "É um direito exclusivo dos que têm razão.",
                    "É sempre concreta e vinculada ao mérito."
                ],
                correctAnswer: "Independe da relação jurídica de direito material, existindo mesmo que o réu seja absolvido."
            },
            {
                question: "Na Ação Penal Pública Condicionada à Representação da vítima, a representação é considerada uma:",
                options: [
                    "Condição de punibilidade.",
                    "Condição especial de procedibilidade.",
                    "Causa de extinção da punibilidade.",
                    "Causa de aumento de pena."
                ],
                correctAnswer: "Condição especial de procedibilidade."
            },
            {
                question: "Qual o tipo de Ação Penal que a Lei 9.099/95 (Art. 88) tornou condicionada à representação para os crimes de lesões corporais leves e lesões culposas?",
                options: [
                    "Ação Penal Privada Exclusiva.",
                    "Ação Penal Pública Incondicionada.",
                    "Ação Penal Pública Condicionada.",
                    "Ação Penal Privada Personalíssima."
                ],
                correctAnswer: "Ação Penal Pública Condicionada."
            },
            {
                question: "A Ação Penal Privada Personalíssima se caracteriza por:",
                options: [
                    "Poder ser oferecida pela vítima ou seu representante legal, admitindo substituição processual.",
                    "Ser oferecida apenas pela própria vítima, não admitindo substituição ou sucessão processual em caso de morte.",
                    "Depender da requisição do Ministro da Justiça.",
                    "Permitir o prosseguimento da ação pelos sucessores em caso de falecimento da vítima."
                ],
                correctAnswer: "Ser oferecida apenas pela própria vítima, não admitindo substituição ou sucessão processual em caso de morte."
            },
            {
                question: "Quando o Ministério Público, em crime de ação pública, não a intenta no prazo legal, será admitida a Ação Penal Subsidiária da Pública. Esse direito está previsto em qual dispositivo da Constituição Federal?",
                options: [
                    "Art. 5º, inciso XXXIX.",
                    "Art. 5º, inciso XLV.",
                    "Art. 5º, inciso LIX.",
                    "Art. 5º, inciso LIII."
                ],
                correctAnswer: "Art. 5º, inciso LIX."
            },
            {
                question: "Qual das seguintes **NÃO** é uma condição para o exercício da ação penal, conforme o Art. 395 do CPP?",
                options: [
                    "Legitimidade das partes.",
                    "Interesse de agir.",
                    "Possibilidade jurídica do pedido.",
                    "Pena máxima superior a 4 anos."
                ],
                correctAnswer: "Pena máxima superior a 4 anos."
            },
            {
                question: "O Princípio da Indisponibilidade da Ação Penal Pública significa que:",
                options: [
                    "O Ministério Público pode desistir da ação penal após o oferecimento da denúncia.",
                    "O Ministério Público não pode desistir da ação penal após o oferecimento da denúncia.",
                    "O Delegado de Polícia pode arquivar o inquérito por sua própria iniciativa.",
                    "Os recursos são sempre indisponíveis para o MP."
                ],
                correctAnswer: "O Ministério Público não pode desistir da ação penal após o oferecimento da denúncia."
            },
            {
                question: "No JECRIM (Juizado Especial Criminal), o princípio da Indisponibilidade da Ação Penal Pública é mitigado ou regulamentado pela possibilidade de:",
                options: [
                    "O MP desistir da ação a qualquer momento.",
                    "O MP oferecer proposta de transação penal ou suspensão condicional do processo (ANPP).",
                    "O juiz arquivar o inquérito sem manifestação do MP.",
                    "A vítima assumir a titularidade da ação penal incondicionada."
                ],
                correctAnswer: "O MP oferecer proposta de transação penal ou suspensão condicional do processo (ANPP)."
            },
            {
                question: "O Princípio da Divisibilidade da Ação Penal Pública permite que o Ministério Público:",
                options: [
                    "Desista da ação em relação a um dos ofensores.",
                    "Eleja processar apenas um dos ofensores, podendo processar os demais posteriormente, respeitadas as regras de conexão e continência.",
                    "Arquive implicitamente o inquérito em relação a alguns indiciados.",
                    "Se exima de ajuizar a ação penal com base em critérios de conveniência e oportunidade ilimitados."
                ],
                correctAnswer: "Eleja processar apenas um dos ofensores, podendo processar os demais posteriormente, respeitadas as regras de conexão e continência."
            },
            {
                question: "O arquivamento implícito objetivo e subjetivo do inquérito policial, que ocorre quando o Ministério Público deixa de incluir fatos ou indiciados na denúncia, é aceito pelo Supremo Tribunal Federal?",
                options: [
                    "Sim, é pacificamente aceito.",
                    "Não, não é aceito pelo Supremo Tribunal Federal.",
                    "Apenas o arquivamento implícito objetivo é aceito.",
                    "Apenas o arquivamento implícito subjetivo é aceito."
                ],
                correctAnswer: "Não, não é aceito pelo Supremo Tribunal Federal."
            },
            {
                question: "O Princípio da Intranscendência, aplicável tanto à ação penal pública quanto à privada, estabelece que:",
                options: [
                    "A pena pode passar da pessoa do condenado para seus familiares.",
                    "A obrigação de reparar o dano não pode ser estendida aos sucessores.",
                    "A denúncia ou queixa só podem ser oferecidas contra o provável autor do fato delituoso, e a pena não pode passar de sua pessoa.",
                    "A responsabilidade penal é coletiva."
                ],
                correctAnswer: "A denúncia ou queixa só podem ser oferecidas contra o provável autor do fato delituoso, e a pena não pode passar de sua pessoa."
            },
            {
                question: "No Princípio da Oportunidade ou Conveniência, da Ação Penal Privada, o ofendido ou seu representante legal:",
                options: [
                    "São obrigados a oferecer a queixa-crime em face do autor do delito.",
                    "Não são obrigados a oferecer a queixa-crime, mesmo havendo provas cabais.",
                    "Não podem desistir da ação após iniciá-la.",
                    "Devem sempre buscar a condenação, independentemente da conveniência."
                ],
                correctAnswer: "Não são obrigados a oferecer a queixa-crime, mesmo havendo provas cabais."
            },
            {
                question: "A Renúncia ao exercício do direito de queixa, em relação a um dos autores do crime, conforme o Art. 49 do CPP, terá qual efeito?",
                options: [
                    "Será inválida, devendo o processo continuar para todos.",
                    "Apenas impedirá o processo daquele autor específico.",
                    "A todos se estenderá.",
                    "Resultará na suspensão condicional do processo."
                ],
                correctAnswer: "A todos se estenderá."
            },
            {
                question: "A competência em matéria penal é considerada 'absoluta' quando se vincula à:",
                options: [
                    "Apenas ao lugar da infração.",
                    "Matéria ou à pessoa.",
                    "Apenas à distribuição.",
                    "Apenas à prevenção."
                ],
                correctAnswer: "Matéria ou à pessoa."
            },
            {
                question: "A inobservância do princípio do Juiz Natural e Imparcialidade (Art. 5º, LIII da CF) gera qual tipo de nulidade?",
                options: [
                    "Nulidade relativa.",
                    "Nulidade absoluta da pretensão acusatória.",
                    "Inexistência de nulidade.",
                    "Sanção administrativa ao juiz."
                ],
                correctAnswer: "Nulidade absoluta da pretensão acusatória."
            },
            {
                question: "Qual das justiças é considerada a mais residual de todas, julgando os casos que não são de competência da Justiça Militar, Eleitoral ou Comum Federal?",
                options: [
                    "Justiça Federal.",
                    "Justiça Estadual Comum.",
                    "Justiça Militar.",
                    "Justiça Eleitoral."
                ],
                correctAnswer: "Justiça Estadual Comum."
            },
            {
                question: "A competência, em regra, será determinada pelo lugar da:",
                options: [
                    "Residência do réu.",
                    "Domicílio do ofendido.",
                    "Consumação ou da tentativa (último ato de execução) da infração penal.",
                    "Data da instauração do inquérito."
                ],
                correctAnswer: "Consumação ou da tentativa (último ato de execução) da infração penal."
            },
            {
                question: "A Súmula 151 do STJ define a competência para o processo e julgamento por crime de contrabando ou descaminho pela prevenção do Juízo Federal do lugar da:",
                options: [
                    "Residência do réu.",
                    "Apreensão dos bens.",
                    "Consumação do delito.",
                    "Instauração do inquérito."
                ],
                correctAnswer: "Apreensão dos bens."
            },
            {
                question: "O Tribunal do Júri julga os crimes dolosos contra a vida. Qual dos seguintes crimes **NÃO** é julgado pelo Tribunal do Júri, conforme a Súmula 603 do STF?",
                options: [
                    "Homicídio.",
                    "Feminicídio.",
                    "Latrocínio.",
                    "Infanticídio."
                ],
                correctAnswer: "Latrocínio."
            },
            {
                question: "A Súmula Vinculante 45 do STF estabelece que a competência constitucional do Tribunal do Júri prevalece sobre o foro por prerrogativa de função estabelecido exclusivamente pela:",
                options: [
                    "Constituição Federal.",
                    "Constituição Estadual.",
                    "Lei Federal.",
                    "Regimento Interno do Tribunal."
                ],
                correctAnswer: "Constituição Estadual."
            },
            {
                question: "A precedência da distribuição fixará a competência quando, na mesma circunscrição judiciária, houver mais de um juiz igualmente competente. Essa é a competência em razão da:",
                options: [
                    "Matéria.",
                    "Pessoa.",
                    "Distribuição.",
                    "Lugar da infração."
                ],
                correctAnswer: "Distribuição."
            },
            {
                question: "A Súmula 235 do STJ afirma que a conexão **NÃO** determina a reunião dos processos se:",
                options: [
                    "Um deles já foi julgado.",
                    "Houver mais de um réu.",
                    "Os crimes forem de naturezas diferentes.",
                    "Os processos estiverem em fases preliminares."
                ],
                correctAnswer: "Um deles já foi julgado."
            },
            {
                question: "O princípio da atualidade do exercício da função é o que vigora para a competência em razão da:",
                options: [
                    "Prevenção.",
                    "Conexão.",
                    "Prerrogativa de Função.",
                    "Distribuição."
                ],
                correctAnswer: "Prerrogativa de Função."
            },
            {
                question: "Conforme o Art. 102, I, 'b' da CF, compete ao Supremo Tribunal Federal processar e julgar, originariamente, nas infrações penais comuns, quem?",
                options: [
                    "Governadores de Estados.",
                    "Juízes Federais.",
                    "Ministros de Estado.",
                    "O Presidente da República, o Vice-Presidente e os membros do Congresso Nacional."
                ],
                correctAnswer: "O Presidente da República, o Vice-Presidente e os membros do Congresso Nacional."
            },
            {
                question: "Compete ao Superior Tribunal de Justiça (STJ) processar e julgar, originariamente, nos crimes comuns, quem?",
                options: [
                    "O Presidente da República.",
                    "Os Juízes Estaduais.",
                    "Os Governadores dos Estados e do Distrito Federal.",
                    "Os Prefeitos Municipais."
                ],
                correctAnswer: "Os Governadores dos Estados e do Distrito Federal."
            },
            {
                question: "Compete aos Tribunais de Justiça julgar, nos crimes comuns e de responsabilidade, quem?",
                options: [
                    "O Presidente da República.",
                    "Os Juízes Estaduais e os membros do Ministério Público Estadual.",
                    "Os Governadores de Estado.",
                    "Os Ministros de Estado."
                ],
                correctAnswer: "Os Juízes Estaduais e os membros do Ministério Público Estadual."
            },
            {
                question: "A competência da Justiça Federal, conforme o Art. 109, IV da CF, abrange as infrações penais praticadas em detrimento de bens, serviços ou interesse da União ou de suas entidades autárquicas ou empresas públicas, com qual exclusão?",
                options: [
                    "Crimes hediondos.",
                    "Crimes contra o sistema financeiro.",
                    "Contravenções penais.",
                    "Crimes ambientais."
                ],
                correctAnswer: "Contravenções penais."
            },
            {
                question: "Qual Súmula do STF estabelece que 'As sociedades de economia mista só tem foro na justiça federal, quando a união intervém como assistente ou opoente'?",
                options: [
                    "Súmula 92.",
                    "Súmula 122.",
                    "Súmula 517.",
                    "Súmula 208."
                ],
                correctAnswer: "Súmula 517."
            },
            {
                question: "A Súmula 122 do STJ define que compete à Justiça Federal o processo e julgamento unificado dos crimes conexos de competência federal e estadual. Isso significa que a competência federal atrai a estadual por:",
                options: [
                    "Subsidiariedade.",
                    "Prevenção.",
                    "Conexão ou Continência.",
                    "Exclusividade."
                ],
                correctAnswer: "Conexão ou Continência."
            },
            {
                question: "Qual o entendimento do STF sobre a competência para crimes contra o Sistema Financeiro Nacional?",
                options: [
                    "São processados e julgados na Justiça Estadual.",
                    "Devem ser processados e julgados na Justiça Federal.",
                    "A competência é do Tribunal do Júri.",
                    "Depende do valor do prejuízo."
                ],
                correctAnswer: "Devem ser processados e julgados na Justiça Federal."
            },
            {
                question: "A Súmula 522 do STF estabelece que, salvo ocorrência de tráfico para o exterior, a competência para o processo e julgamento dos crimes relativos a entorpecentes é da:",
                options: [
                    "Justiça Federal.",
                    "Justiça Estadual.",
                    "Justiça Militar.",
                    "Justiça Eleitoral."
                ],
                correctAnswer: "Justiça Estadual."
            },
            {
                question: "A Súmula 546 do STJ define que a competência para processar e julgar o crime de uso de documento falso é firmada em razão da:",
                options: [
                    "Qualificação do órgão expedidor do documento.",
                    "Entidade ou órgão ao qual foi apresentado o documento público.",
                    "Data da falsificação do documento.",
                    "Residência do acusado."
                ],
                correctAnswer: "Entidade ou órgão ao qual foi apresentado o documento público."
            },
            {
                question: "A Súmula 209 do STJ afirma que compete à Justiça Estadual processar e julgar prefeito por desvio de verba:",
                options: [
                    "Sujeita à prestação de contas perante órgão federal.",
                    "Transferida e incorporada ao patrimônio municipal.",
                    "Proveniente de tratados internacionais.",
                    "Com prejuízo à União."
                ],
                correctAnswer: "Transferida e incorporada ao patrimônio municipal."
            },
            {
                question: "Em regra, os crimes praticados em detrimento da Caixa Econômica Federal (CEF), por ser esta empresa pública federal, devem ser processados e julgados pela:",
                options: [
                    "Justiça Estadual.",
                    "Justiça Federal.",
                    "Justiça do Trabalho.",
                    "Justiça Militar."
                ],
                correctAnswer: "Justiça Federal."
            },
            {
                question: "O roubo cometido contra casa lotérica, pessoa jurídica de direito privado permissionária de serviço público, atingindo apenas o seu patrimônio, atrai a competência da Justiça Federal?",
                options: [
                    "Sim, sempre.",
                    "Não, por não lesar bens, serviços ou interesse da União, a competência é da Justiça Estadual.",
                    "Sim, apenas se houver participação de funcionário público federal.",
                    "Depende do valor roubado."
                ],
                correctAnswer: "Não, por não lesar bens, serviços ou interesse da União, a competência é da Justiça Estadual."
            },
            {
                question: "A competência para julgar crimes ambientais que envolvam espécies vegetais ameaçadas de extinção é da Justiça Federal, independentemente de lesão concreta à União, desde que:",
                options: [
                    "Haja interesse direto de um estado específico.",
                    "A espécie esteja na Lista Nacional de Espécies Ameaçadas de Extinção.",
                    "O crime ocorra em propriedade privada.",
                    "Não haja envolvimento do IBAMA."
                ],
                correctAnswer: "A espécie esteja na Lista Nacional de Espécies Ameaçadas de Extinção."
            },
            {
                question: "Qual a competência para processar e julgar crime de falso testemunho cometido no processo trabalhista, conforme a Súmula 165 do STJ?",
                options: [
                    "Justiça Estadual Comum.",
                    "Justiça Federal.",
                    "Justiça do Trabalho.",
                    "Justiça Militar."
                ],
                correctAnswer: "Justiça Federal."
            },
            {
                question: "A redução à condição análoga a de escravo (Art. 149 do Código Penal), quando praticada no contexto das relações de trabalho, configura crime contra a organização do trabalho e, portanto, atrai a competência da:",
                options: [
                    "Justiça Estadual.",
                    "Justiça Federal.",
                    "Justiça do Trabalho.",
                    "Justiça Militar."
                ],
                correctAnswer: "Justiça Federal."
            },
            {
                question: "A Súmula 140 do STJ estabelece que compete à Justiça Comum Estadual processar e julgar crime em que o indígena figure como:",
                options: [
                    "Apenas como autor.",
                    "Apenas como vítima.",
                    "Autor ou vítima, salvo se versar sobre questões diretamente ligadas à cultura indígena ou direitos sobre suas terras.",
                    "Autor ou vítima em qualquer caso, atraindo a competência federal."
                ],
                correctAnswer: "Autor ou vítima, salvo se versar sobre questões diretamente ligadas à cultura indígena ou direitos sobre suas terras."
            },
            {
                question: "O crime de parcelamento irregular de terras da União é de competência da:",
                options: [
                    "Justiça Estadual.",
                    "Justiça Federal.",
                    "Justiça Agrária.",
                    "Justiça Municipal."
                ],
                correctAnswer: "Justiça Federal."
            },
            {
                question: "A conexão é configurada quando houver algum liame entre uma e outra infração penal. O Art. 76, inciso I, do CPP trata da conexão:",
                options: [
                    "Objetiva.",
                    "Instrumental ou Probatória.",
                    "Intersubjetiva.",
                    "Consequencial."
                ],
                correctAnswer: "Intersubjetiva."
            },
            {
                question: "A conexão intersubjetiva por simultaneidade ocorre quando:",
                options: [
                    "Várias pessoas cometem vários crimes com vínculo subjetivo.",
                    "Vários crimes são cometidos ao mesmo tempo, por várias pessoas reunidas, sem ajuste prévio.",
                    "Um crime é praticado para garantir a impunidade de outro.",
                    "A prova de uma infração influencia a prova de outra."
                ],
                correctAnswer: "Vários crimes são cometidos ao mesmo tempo, por várias pessoas reunidas, sem ajuste prévio."
            },
            {
                question: "A conexão objetiva teleológica ocorre quando:",
                options: [
                    "O agente pratica um crime para assegurar a vantagem antes obtida.",
                    "O agente pratica um crime visando à prática de um segundo (ex: homicídio do segurança para sequestrar o patrão).",
                    "A prova de um crime influi em outro.",
                    "Várias pessoas concorrem para a prática do mesmo crime."
                ],
                correctAnswer: "O agente pratica um crime visando à prática de um segundo (ex: homicídio do segurança para sequestrar o patrão)."
            },
            {
                question: "A Continência subjetiva ocorre quando:",
                options: [
                    "Há pluralidade de infração em unidade de conduta.",
                    "Duas ou mais pessoas concorrem para a prática do mesmo crime.",
                    "O crime é cometido por concurso formal de agentes.",
                    "Há erro na execução."
                ],
                correctAnswer: "Duas ou mais pessoas concorrem para a prática do mesmo crime."
            },
            {
                question: "No caso de aberratio ictus (erro na execução), onde o sujeito erra na execução e acaba atingindo mais pessoas (ex: uma conduta, duas mortes), aplica-se a:",
                options: [
                    "Conexão intersubjetiva.",
                    "Conexão objetiva teleológica.",
                    "Continência objetiva.",
                    "Conexão instrumental."
                ],
                correctAnswer: "Continência objetiva."
            },
            {
                question: "Qual o efeito da conexão e da continência nos processos?",
                options: [
                    "O processo e julgamento são sempre separados.",
                    "Um dos juízos exerce força atrativa, avocando os processos, salvo se já houver sentença definitiva.",
                    "As penas são automaticamente somadas, sem unificação.",
                    "Os processos são sempre arquivados."
                ],
                correctAnswer: "Um dos juízos exerce força atrativa, avocando os processos, salvo se já houver sentença definitiva."
            },
            {
                question: "Se a imunidade parlamentar não se estende ao corréu sem essa prerrogativa, conforme a Súmula 245 do STF, isso significa que:",
                options: [
                    "O corréu é automaticamente beneficiado pela imunidade do parlamentar.",
                    "O processo do corréu deve ser desmembrado e julgado separadamente.",
                    "A imunidade parlamentar é sempre absoluta.",
                    "A prerrogativa de função se estende a todos os envolvidos no crime."
                ],
                correctAnswer: "O processo do corréu deve ser desmembrado e julgado separadamente."
            },
            {
                question: "A competência do Tribunal de Justiça para julgar Prefeitos restringe-se a quais crimes, conforme a Súmula 702 do STF?",
                options: [
                    "Apenas crimes eleitorais.",
                    "Apenas crimes de responsabilidade.",
                    "Apenas crimes de competência da Justiça Comum Estadual.",
                    "Todos os crimes, independentemente da natureza."
                ],
                correctAnswer: "Apenas crimes de competência da Justiça Comum Estadual."
            },
            {
                question: "Qual Súmula do STJ afirma que 'Compete à Justiça Federal o processo e julgamento unificado dos crimes conexos de competência federal e estadual'?",
                options: [
                    "Súmula 90.",
                    "Súmula 122.",
                    "Súmula 235.",
                    "Súmula 704."
                ],
                correctAnswer: "Súmula 122."
            },
            {
                question: "A Súmula 90 do STJ estabelece que 'Compete à Justiça Estadual Militar processar e julgar o policial militar pela prática do crime militar, e à Comum pela prática do crime comum simultâneo àquele'. Essa afirmação está:",
                options: [
                    "Incorreta, pois crimes militares são sempre da Justiça Comum.",
                    "Correta, separando as competências.",
                    "Incorreta, pois a Justiça Militar julga todos os crimes de militar.",
                    "Apenas aplicável a crimes de menor potencial ofensivo."
                ],
                correctAnswer: "Correta, separando as competências."
            },
            {
                question: "A Súmula 704 do STF estabelece que 'Não viola as garantias do juiz natural, da ampla defesa e do devido processo legal a atração por continência ou conexão do processo do corréu ao foro por prerrogativa de função de um dos denunciados'. Isso significa que:",
                options: [
                    "A prerrogativa de função nunca atrai a competência para corréus.",
                    "A atração da competência por conexão/continência para o foro por prerrogativa de função é constitucionalmente válida.",
                    "Todos os corréus cometerão crime de responsabilidade.",
                    "O processo deve ser sempre desmembrado."
                ],
                correctAnswer: "A atração da competência por conexão/continência para o foro por prerrogativa de função é constitucionalmente válida."
            },
            {
                question: "O conceito de aeronave, para fins de competência da Justiça Federal (Art. 109, IX da CF), conforme o Art. 106 da Lei n. 7.565/1986, exclui qual tipo de aparelho?",
                options: [
                    "Aviões a jato.",
                    "Helicópteros.",
                    "Balões de ar quente tripulados.",
                    "Drones de grande porte."
                ],
                correctAnswer: "Balões de ar quente tripulados."
            },
            {
                question: "Qual o entendimento do STF e STJ sobre a competência para processar e julgar crime praticado a bordo de aeronave?",
                options: [
                    "Sempre da Justiça Estadual.",
                    "Sempre da Justiça Federal, independentemente de estar em ar ou em terra.",
                    "Depende da nacionalidade da aeronave.",
                    "Depende do sujeito passivo do delito."
                ],
                correctAnswer: "Sempre da Justiça Federal, independentemente de estar em ar ou em terra."
            },
            {
                question: "O termo 'navio', para fins de competência da Justiça Federal, conforme a jurisprudência, deve se referir a embarcação de:",
                options: [
                    "Qualquer porte, mesmo pequenas embarcações.",
                    "Grande porte, imprópria para navegação em alto-mar.",
                    "Grande porte, apta a realizar viagens internacionais ou em situação de potencial deslocamento internacional.",
                    "Pequeno porte, sem autonomia considerável."
                ],
                correctAnswer: "Grande porte, apta a realizar viagens internacionais ou em situação de potencial deslocamento internacional."
            },
            {
                question: "A Súmula 147 do STJ estabelece que 'Compete à Justiça Federal processar e julgar os crimes praticados contra funcionário público federal, quando relacionados com o exercício da função'. Se o crime não tiver relação com o exercício da função, a competência é da:",
                options: [
                    "Justiça Federal.",
                    "Justiça Estadual.",
                    "Justiça Militar.",
                    "Justiça do Trabalho."
                ],
                correctAnswer: "Justiça Estadual."
            },
            {
                question: "A Súmula 254 do extinto Tribunal Federal de Recursos (TFR) afirma que 'Compete à Justiça Federal processar e julgar os delitos praticados por funcionário público federal, no exercício de suas funções e com estas relacionados'. Se o funcionário público federal pratica um crime sem relação com a função, a competência é da:",
                options: [
                    "Justiça Federal.",
                    "Justiça Estadual.",
                    "Justiça Militar.",
                    "Justiça do Trabalho."
                ],
                correctAnswer: "Justiça Estadual."
            },
            {
                question: "Qual Súmula do STJ afirma que 'A utilização de papel-moeda grosseiramente falsificado configura, em tese, o crime de estelionato, da competência da Justiça Estadual'?",
                options: [
                    "Súmula 92.",
                    "Súmula 147.",
                    "Súmula 73.",
                    "Súmula 122."
                ],
                correctAnswer: "Súmula 73."
            },
            {
                question: "O crime de usurpação de mineral é de competência da Justiça Federal, pois os recursos minerais são bens da União, conforme qual artigo da Constituição Federal?",
                options: [
                    "Art. 5º, IX.",
                    "Art. 20, IX.",
                    "Art. 21, XX.",
                    "Art. 22, IV."
                ],
                correctAnswer: "Art. 20, IX."
            },
            {
                question: "A competência para o crime de ingresso ou permanência irregular de estrangeiro em território nacional, mesmo que com documento particular falsificado, é da:",
                options: [
                    "Justiça Estadual.",
                    "Justiça Federal.",
                    "Justiça Militar.",
                    "Vara de Fronteiras."
                ],
                correctAnswer: "Justiça Federal."
            },
            {
                question: "O esbulho possessório de imóvel do programa 'Minha Casa Minha Vida' é de competência da Justiça Federal, porque, apesar do devedor fiduciário ser o possuidor direto, há interesse jurídico da União na apuração do crime, evidenciado pelo fato de os imóveis serem adquiridos com:",
                options: [
                    "Apenas recursos municipais.",
                    "Apenas recursos estaduais.",
                    "Recursos orçamentários federais.",
                    "Recursos de empresas privadas."
                ],
                correctAnswer: "Recursos orçamentários federais."
            },
            {
                question: "Qual o entendimento sobre o Tribunal do Júri Federal?",
                options: [
                    "Não existe Tribunal do Júri Federal no Brasil.",
                    "Compete ao Tribunal do Júri Federal julgar causa com interesse federal específico ou conexão com crime federal.",
                    "Apenas o Tribunal do Júri Estadual é previsto na Constituição.",
                    "É um tribunal de exceção, vedado pela CF."
                ],
                correctAnswer: "Compete ao Tribunal do Júri Federal julgar causa com interesse federal específico ou conexão com crime federal."
            },
            {
                question: "Qual o prazo para oferecimento da denúncia nos crimes contra a economia popular, esteja ou não o réu preso?",
                options: [
                    "10 dias.",
                    "2 dias.",
                    "5 dias.",
                    "30 dias."
                ],
                correctAnswer: "2 dias."
            },
            {
                question: "A retardação injustificada dos prazos indicados para os crimes contra a economia popular importa em crime de:",
                options: [
                    "Abuso de autoridade.",
                    "Corrupção.",
                    "Prevaricação.",
                    "Desobediência."
                ],
                correctAnswer: "Prevaricação."
            },
            {
                question: "O MP não está obrigado a recorrer, em regra os recursos são voluntários. No entanto, o MP não pode desistir de recurso que:",
                options: [
                    "Ainda não interpôs.",
                    "Haja interposto.",
                    "Foi interposto por terceiros.",
                    "Seja de competência do juiz."
                ],
                correctAnswer: "Haja interposto."
            },
            {
                question: "Na 1ª Etapa do 'CRIMINAL DEFENSE PROJECT', os grupos deverão apresentar presencialmente em sala:",
                options: [
                    "Apenas o resultado final do projeto.",
                    "O caso escolhido e indicar a 'questão problema' que será debatida.",
                    "Um vídeo de defesa criminal.",
                    "Um relatório sobre o andamento da pesquisa."
                ],
                correctAnswer: "O caso escolhido e indicar a 'questão problema' que será debatida."
            },
            {
                question: "A Súmula 718 do STF estabelece que a opinião do julgador sobre a gravidade em abstrato do crime:",
                options: [
                    "Constitui motivação idônea para regime mais severo.",
                    "Não constitui motivação idônea para a imposição de regime mais severo do que o permitido.",
                    "Pode ser utilizada para agravar a pena-base.",
                    "É o único critério para fixar o regime inicial."
                ],
                correctAnswer: "Não constitui motivação idônea para a imposição de regime mais severo do que o permitido."
            },
            {
                question: "Qual o percentual de cumprimento de pena para progressão de regime de apenado primário e crime sem violência ou grave ameaça, conforme a LEP?",
                options: [
                    "16%",
                    "20%",
                    "25%",
                    "30%"
                ],
                correctAnswer: "16%"
            },
            {
                question: "A remição ficta, que ocorre quando o preso não trabalha por insuficiência administrativa estatal, é admitida pelo STJ?",
                options: [
                    "Sim, é pacificamente aceita.",
                    "Não, o STJ entende que não é possível.",
                    "Sim, mas apenas em casos de crimes leves.",
                    "Apenas se houver decisão judicial prévia."
                ],
                correctAnswer: "Não, o STJ entende que não é possível."
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let score = 0; // Número de acertos
        let incorrectAnswers = 0; // Número de erros

        // Elementos do DOM
        const quizContainer = document.getElementById('quiz-container');
        const resultScreen = document.getElementById('result-screen');
        const questionIndicator = document.getElementById('question-indicator');
        const questionText = document.getElementById('question-text');
        const optionsForm = document.getElementById('options-form');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const feedbackDiv = document.getElementById('feedback');
        const finalScoreDisplay = document.getElementById('final-score');
        const restartButton = document.getElementById('restart-button');

        // Função para inicializar o Firebase
        async function initializeFirebase() {
            try {
                if (Object.keys(firebaseConfig).length > 0) {
                    app = initializeApp(firebaseConfig);
                    db = getFirestore(app);
                    auth = getAuth(app);

                    // Autenticação
                    if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        await signInWithCustomToken(auth, __initial_auth_token);
                    } else {
                        await signInAnonymously(auth);
                    }
                    userId = auth.currentUser ? auth.currentUser.uid : crypto.randomUUID();
                    console.log("Firebase inicializado. User ID:", userId);
                    // Opcional: Salvar o userId se for um usuário anônimo gerado
                    // if (!auth.currentUser || !auth.currentUser.uid) {
                    //     // Poderíamos salvar este userId gerado localmente ou em Firestore se fosse persistente
                    // }
                } else {
                    console.warn("Firebase config não fornecida. O aplicativo funcionará sem persistência de dados.");
                }
            } catch (error) {
                console.error("Erro ao inicializar Firebase ou autenticar:", error);
            }
        }

        // Função para carregar uma questão
        function loadQuestion() {
            const currentQuestion = questions[currentQuestionIndex];
            questionText.textContent = currentQuestion.question;
            optionsForm.innerHTML = '';
            feedbackDiv.classList.add('hidden'); // Esconde o feedback anterior

            currentQuestion.options.forEach((option, index) => {
                const label = document.createElement('label');
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = 'answer';
                radio.value = option;
                radio.checked = (userAnswers[currentQuestionIndex] === option); // Marca a opção se já foi selecionada
                radio.onclick = () => saveAnswer(option); // Salva a resposta ao clicar

                const span = document.createElement('span');
                span.textContent = option;

                label.appendChild(radio);
                label.appendChild(span);
                optionsForm.appendChild(label);
            });

            updateNavigationButtons();
            updateQuestionIndicators();
            displayFeedback(currentQuestionIndex); // Mostra o feedback se já respondeu
        }

        // Função para salvar a resposta do usuário
        function saveAnswer(answer) {
            userAnswers[currentQuestionIndex] = answer;
            displayFeedback(currentQuestionIndex);
        }

        // Função para exibir o feedback (correto/incorreto)
        function displayFeedback(qIndex) {
            const selectedAnswer = userAnswers[qIndex];
            const currentQuestion = questions[qIndex];

            feedbackDiv.classList.remove('correct', 'incorrect');
            if (selectedAnswer !== null) {
                feedbackDiv.classList.remove('hidden');
                if (selectedAnswer === currentQuestion.correctAnswer) {
                    feedbackDiv.classList.add('correct');
                    feedbackDiv.textContent = 'Correto!';
                } else {
                    feedbackDiv.classList.add('incorrect');
                    feedbackDiv.textContent = `Incorreto. A resposta correta era: ${currentQuestion.correctAnswer}`;
                }
            } else {
                feedbackDiv.classList.add('hidden');
            }
        }

        // Função para atualizar os botões de navegação
        function updateNavigationButtons() {
            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.textContent = currentQuestionIndex === questions.length - 1 ? 'Finalizar Simulado' : 'Próxima';
        }

        // Função para atualizar os indicadores de questão
        function updateQuestionIndicators() {
            questionIndicator.textContent = `Questão ${currentQuestionIndex + 1} de ${questions.length}`;
        }

        // Função para avançar para a próxima questão
        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                finishQuiz();
            }
        }

        // Função para retornar à questão anterior
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        // Função para finalizar o simulado e mostrar o resultado
        function finishQuiz() {
            score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === questions[index].correctAnswer) {
                    score++;
                }
            });
            incorrectAnswers = questions.length - score; // Calcula o número de erros

            quizContainer.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            finalScoreDisplay.textContent = `Você acertou ${score} questões e errou ${incorrectAnswers} de ${questions.length} no total!`;

            // Opcional: Salvar o resultado no Firestore
            saveQuizResult(score);
        }

        // Função para salvar o resultado no Firestore (opcional)
        async function saveQuizResult(finalScore) {
            if (!db || !userId) {
                console.warn("Firebase ou userId não disponíveis, não é possível salvar o resultado.");
                return;
            }
            try {
                // Usando uma subcoleção privada para o usuário
                const userQuizRef = doc(db, `artifacts/${appId}/users/${userId}/quiz_results`, new Date().toISOString());
                await setDoc(userQuizRef, {
                    score: finalScore,
                    totalQuestions: questions.length,
                    timestamp: new Date()
                });
                console.log("Resultado do quiz salvo com sucesso!");
            } catch (error) {
                console.error("Erro ao salvar o resultado do quiz:", error);
            }
        }

        // Função para reiniciar o simulado
        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            score = 0;
            incorrectAnswers = 0; // Reinicia a contagem de erros
            quizContainer.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            loadQuestion();
        }

        // Event Listeners
        nextButton.addEventListener('click', nextQuestion);
        prevButton.addEventListener('click', prevQuestion);
        restartButton.addEventListener('click', restartQuiz);

        // Inicialização do simulado
        window.onload = async () => {
            await initializeFirebase();
            loadQuestion();
        };

    </script>
</body>
</html>
